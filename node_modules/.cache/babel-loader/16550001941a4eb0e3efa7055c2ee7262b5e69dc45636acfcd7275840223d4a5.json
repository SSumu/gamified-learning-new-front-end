{"ast":null,"code":"import React from\"react\";import{Table,TableBody,TableCell,TableContainer,TableRow,TableHead,Paper,IconButton}from\"@mui/material\";import DeleteIcon from\"@mui/icons-material/Delete\";import VisibilityIcon from\"@mui/icons-material/Visibility\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserList=_ref=>{let{users,refresh,onSelect,selectedUser}=_ref;const deleteUser=async id=>{await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/users/${id}`,{method:\"DELETE\"});refresh();};return/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"User\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Courses\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:users.map(u=>/*#__PURE__*/_jsxs(TableRow,{hover:true,onClick:()=>onSelect(u),selected:selectedUser&&selectedUser._id===u._id,sx:{cursor:\"pointer\",backgroundColor:selectedUser&&selectedUser._id===u._id?\"#e3f2fd\":\"inherit\"},children:[/*#__PURE__*/_jsx(TableCell,{children:u.username}),/*#__PURE__*/_jsx(TableCell,{children:u.courses.join(\", \")}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(IconButton,{onClick:e=>{e.stopPropagation();onSelect(u);},children:/*#__PURE__*/_jsx(VisibilityIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:e=>{e.stopPropagation();// Prevent row click\ndeleteUser(u._id);},children:/*#__PURE__*/_jsx(DeleteIcon,{color:\"error\"})})]})]},u._id))})]})});};export default UserList;","map":{"version":3,"names":["React","Table","TableBody","TableCell","TableContainer","TableRow","TableHead","Paper","IconButton","DeleteIcon","VisibilityIcon","jsx","_jsx","jsxs","_jsxs","UserList","_ref","users","refresh","onSelect","selectedUser","deleteUser","id","fetch","process","env","REACT_APP_API_BASE_URL","method","component","children","map","u","hover","onClick","selected","_id","sx","cursor","backgroundColor","username","courses","join","e","stopPropagation","color"],"sources":["C:/Users/sadee/OneDrive/Desktop/Gamified Learning/gamified-learning-front-end/src/components/UserList.jsx"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableRow,\r\n  TableHead,\r\n  Paper,\r\n  IconButton,\r\n} from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\r\n\r\nconst UserList = ({ users, refresh, onSelect, selectedUser }) => {\r\n  const deleteUser = async (id) => {\r\n    await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/users/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n    refresh();\r\n  };\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>User</TableCell>\r\n            <TableCell>Courses</TableCell>\r\n            <TableCell>Actions</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {users.map((u) => (\r\n            <TableRow\r\n              key={u._id}\r\n              hover\r\n              onClick={() => onSelect(u)}\r\n              selected={selectedUser && selectedUser._id === u._id}\r\n              sx={{\r\n                cursor: \"pointer\",\r\n                backgroundColor:\r\n                  selectedUser && selectedUser._id === u._id\r\n                    ? \"#e3f2fd\"\r\n                    : \"inherit\",\r\n              }}\r\n            >\r\n              <TableCell>{u.username}</TableCell>\r\n              <TableCell>{u.courses.join(\", \")}</TableCell>\r\n              <TableCell>\r\n                <IconButton\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    onSelect(u);\r\n                  }}\r\n                >\r\n                  <VisibilityIcon />\r\n                </IconButton>\r\n                <IconButton\r\n                  onClick={(e) => {\r\n                    e.stopPropagation(); // Prevent row click\r\n                    deleteUser(u._id);\r\n                  }}\r\n                >\r\n                  <DeleteIcon color=\"error\" />\r\n                </IconButton>\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OACEC,KAAK,CACLC,SAAS,CACTC,SAAS,CACTC,cAAc,CACdC,QAAQ,CACRC,SAAS,CACTC,KAAK,CACLC,UAAU,KACL,eAAe,CACtB,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CACnD,MAAO,CAAAC,cAAc,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5D,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAgD,IAA/C,CAAEC,KAAK,CAAEC,OAAO,CAAEC,QAAQ,CAAEC,YAAa,CAAC,CAAAJ,IAAA,CAC1D,KAAM,CAAAK,UAAU,CAAG,KAAO,CAAAC,EAAE,EAAK,CAC/B,KAAM,CAAAC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,cAAcJ,EAAE,EAAE,CAAE,CACnEK,MAAM,CAAE,QACV,CAAC,CAAC,CACFT,OAAO,CAAC,CAAC,CACX,CAAC,CAED,mBACEN,IAAA,CAACR,cAAc,EAACwB,SAAS,CAAErB,KAAM,CAAAsB,QAAA,cAC/Bf,KAAA,CAACb,KAAK,EAAA4B,QAAA,eACJjB,IAAA,CAACN,SAAS,EAAAuB,QAAA,cACRf,KAAA,CAACT,QAAQ,EAAAwB,QAAA,eACPjB,IAAA,CAACT,SAAS,EAAA0B,QAAA,CAAC,MAAI,CAAW,CAAC,cAC3BjB,IAAA,CAACT,SAAS,EAAA0B,QAAA,CAAC,SAAO,CAAW,CAAC,cAC9BjB,IAAA,CAACT,SAAS,EAAA0B,QAAA,CAAC,SAAO,CAAW,CAAC,EACtB,CAAC,CACF,CAAC,cACZjB,IAAA,CAACV,SAAS,EAAA2B,QAAA,CACPZ,KAAK,CAACa,GAAG,CAAEC,CAAC,eACXjB,KAAA,CAACT,QAAQ,EAEP2B,KAAK,MACLC,OAAO,CAAEA,CAAA,GAAMd,QAAQ,CAACY,CAAC,CAAE,CAC3BG,QAAQ,CAAEd,YAAY,EAAIA,YAAY,CAACe,GAAG,GAAKJ,CAAC,CAACI,GAAI,CACrDC,EAAE,CAAE,CACFC,MAAM,CAAE,SAAS,CACjBC,eAAe,CACblB,YAAY,EAAIA,YAAY,CAACe,GAAG,GAAKJ,CAAC,CAACI,GAAG,CACtC,SAAS,CACT,SACR,CAAE,CAAAN,QAAA,eAEFjB,IAAA,CAACT,SAAS,EAAA0B,QAAA,CAAEE,CAAC,CAACQ,QAAQ,CAAY,CAAC,cACnC3B,IAAA,CAACT,SAAS,EAAA0B,QAAA,CAAEE,CAAC,CAACS,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC,CAAY,CAAC,cAC7C3B,KAAA,CAACX,SAAS,EAAA0B,QAAA,eACRjB,IAAA,CAACJ,UAAU,EACTyB,OAAO,CAAGS,CAAC,EAAK,CACdA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnBxB,QAAQ,CAACY,CAAC,CAAC,CACb,CAAE,CAAAF,QAAA,cAEFjB,IAAA,CAACF,cAAc,GAAE,CAAC,CACR,CAAC,cACbE,IAAA,CAACJ,UAAU,EACTyB,OAAO,CAAGS,CAAC,EAAK,CACdA,CAAC,CAACC,eAAe,CAAC,CAAC,CAAE;AACrBtB,UAAU,CAACU,CAAC,CAACI,GAAG,CAAC,CACnB,CAAE,CAAAN,QAAA,cAEFjB,IAAA,CAACH,UAAU,EAACmC,KAAK,CAAC,OAAO,CAAE,CAAC,CAClB,CAAC,EACJ,CAAC,GA/BPb,CAAC,CAACI,GAgCC,CACX,CAAC,CACO,CAAC,EACP,CAAC,CACM,CAAC,CAErB,CAAC,CAED,cAAe,CAAApB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
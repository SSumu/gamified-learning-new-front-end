{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Container,Typography,Grid,Card,Box,Avatar}from\"@mui/material\";import GroupIcon from\"@mui/icons-material/Group\";import ExtensionIcon from\"@mui/icons-material/Extension\";import PersonIcon from\"@mui/icons-material/Person\";import UserForm from\"../components/UserForm\";import UserList from\"../components/UserList\";import SkillProgress from\"../components/SkillProgress\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[users,setUsers]=useState([]);const[selectedUser,setSelectedUser]=useState(null);const[challengeCount,setChallengeCount]=useState(0);const fetchUsers=async()=>{const res=await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/users`);const data=await res.json();setUsers(data);const uniqueCourses=new Set(data.flatMap(user=>user.courses));setChallengeCount(uniqueCourses.size);};useEffect(()=>{fetchUsers();},[]);const getSelectedUserChallengeCount=()=>{if(!selectedUser||!selectedUser.courses)return 0;return selectedUser.courses.length;};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\",my:2},children:[/*#__PURE__*/_jsx(Avatar,{src:\"/logo192.png\",alt:\"Logo\",sx:{width:56,height:56,mr:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Community Skill Dashboard\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:2},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{display:\"flex\",alignItems:\"center\",p:2},children:[/*#__PURE__*/_jsx(GroupIcon,{sx:{fontSize:40,color:\"#1976d2\",mr:2}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Total Students\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:\"bold\",children:users.length})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{display:\"flex\",alignItems:\"center\",p:2},children:[/*#__PURE__*/_jsx(ExtensionIcon,{sx:{fontSize:40,color:\"#388e3c\",mr:2}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Total Challenges\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:\"bold\",children:challengeCount})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{display:\"flex\",alignItems:\"center\",p:2},children:[/*#__PURE__*/_jsx(PersonIcon,{sx:{fontSize:40,color:\"#f57c00\",mr:2}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Selected User Challenges\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:\"bold\",children:selectedUser?getSelectedUserChallengeCount():\"N/A\"})]})]})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(UserForm,{refresh:fetchUsers})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:8,children:[/*#__PURE__*/_jsx(UserList,{users:users,refresh:fetchUsers,onSelect:user=>setSelectedUser(user),selectedUser:selectedUser}),selectedUser&&/*#__PURE__*/_jsx(SkillProgress,{user:selectedUser})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","Grid","Card","Box","Avatar","GroupIcon","ExtensionIcon","PersonIcon","UserForm","UserList","SkillProgress","jsx","_jsx","jsxs","_jsxs","Dashboard","users","setUsers","selectedUser","setSelectedUser","challengeCount","setChallengeCount","fetchUsers","res","fetch","process","env","REACT_APP_API_BASE_URL","data","json","uniqueCourses","Set","flatMap","user","courses","size","getSelectedUserChallengeCount","length","children","sx","display","alignItems","my","src","alt","width","height","mr","variant","container","spacing","mb","item","xs","md","p","fontSize","color","fontWeight","refresh","onSelect"],"sources":["C:/Users/sadee/OneDrive/Desktop/Gamified Learning/gamified-learning-front-end/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Typography, Grid, Card, Box, Avatar } from \"@mui/material\";\r\nimport GroupIcon from \"@mui/icons-material/Group\";\r\nimport ExtensionIcon from \"@mui/icons-material/Extension\";\r\nimport PersonIcon from \"@mui/icons-material/Person\";\r\nimport UserForm from \"../components/UserForm\";\r\nimport UserList from \"../components/UserList\";\r\nimport SkillProgress from \"../components/SkillProgress\";\r\n\r\nconst Dashboard = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [challengeCount, setChallengeCount] = useState(0);\r\n\r\n  const fetchUsers = async () => {\r\n    const res = await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/users`);\r\n    const data = await res.json();\r\n    setUsers(data);\r\n\r\n    const uniqueCourses = new Set(data.flatMap((user) => user.courses));\r\n    setChallengeCount(uniqueCourses.size);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const getSelectedUserChallengeCount = () => {\r\n    if (!selectedUser || !selectedUser.courses) return 0;\r\n    return selectedUser.courses.length;\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      {/* Logo + Title */}\r\n      <Box sx={{ display: \"flex\", alignItems: \"center\", my: 2 }}>\r\n        <Avatar\r\n          src=\"/logo192.png\"\r\n          alt=\"Logo\"\r\n          sx={{ width: 56, height: 56, mr: 2 }}\r\n        />\r\n        <Typography variant=\"h4\">Community Skill Dashboard</Typography>\r\n      </Box>\r\n\r\n      {/* Stats Cards */}\r\n      <Grid container spacing={3} sx={{ mb: 2 }}>\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ display: \"flex\", alignItems: \"center\", p: 2 }}>\r\n            <GroupIcon sx={{ fontSize: 40, color: \"#1976d2\", mr: 2 }} />\r\n            <Box>\r\n              <Typography variant=\"h6\">Total Students</Typography>\r\n              <Typography variant=\"h5\" fontWeight=\"bold\">\r\n                {users.length}\r\n              </Typography>\r\n            </Box>\r\n          </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ display: \"flex\", alignItems: \"center\", p: 2 }}>\r\n            <ExtensionIcon sx={{ fontSize: 40, color: \"#388e3c\", mr: 2 }} />\r\n            <Box>\r\n              <Typography variant=\"h6\">Total Challenges</Typography>\r\n              <Typography variant=\"h5\" fontWeight=\"bold\">\r\n                {challengeCount}\r\n              </Typography>\r\n            </Box>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Selected User Challenge Count */}\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ display: \"flex\", alignItems: \"center\", p: 2 }}>\r\n            <PersonIcon sx={{ fontSize: 40, color: \"#f57c00\", mr: 2 }} />\r\n            <Box>\r\n              <Typography variant=\"h6\">Selected User Challenges</Typography>\r\n              <Typography variant=\"h5\" fontWeight=\"bold\">\r\n                {selectedUser ? getSelectedUserChallengeCount() : \"N/A\"}\r\n              </Typography>\r\n            </Box>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Form + User List */}\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={4}>\r\n          <UserForm refresh={fetchUsers} />\r\n        </Grid>\r\n        <Grid item xs={12} md={8}>\r\n          <UserList\r\n            users={users}\r\n            refresh={fetchUsers}\r\n            onSelect={(user) => setSelectedUser(user)}\r\n            selectedUser={selectedUser}\r\n          />\r\n          {selectedUser && <SkillProgress user={selectedUser} />}\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
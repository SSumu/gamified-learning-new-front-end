{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Container,Typography,Grid,Card,Box,Avatar}from\"@mui/material\";import GroupIcon from\"@mui/icons-material/Group\";import ExtensionIcon from\"@mui/icons-material/Extension\";import UserForm from\"../components/UserForm\";import UserList from\"../components/UserList\";import SkillProgress from\"../components/SkillProgress\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{var _selectedUser$courses;const[users,setUsers]=useState([]);const[selectedUser,setSelectedUser]=useState(null);const[challengeCount,setChallengeCount]=useState(0);const fetchUsers=async()=>{try{const response=await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/users`);const data=await response.json();setUsers(data);const uniqueCourses=new Set(data.flatMap(user=>user.courses));setChallengeCount(uniqueCourses.size);}catch(error){console.error(\"Error fetching users:\",error);}};useEffect(()=>{fetchUsers();},[]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\",my:2},children:[/*#__PURE__*/_jsx(Avatar,{src:\"/logo192.png\",alt:\"Logo\",sx:{width:56,height:56,mr:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Community Skill Dashboard\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:2},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{display:\"flex\",alignItems:\"center\",p:2},children:[/*#__PURE__*/_jsx(GroupIcon,{sx:{fontSize:40,color:\"#1976d2\",mr:2}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Total Students\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:\"bold\",children:users.length})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{display:\"flex\",alignItems:\"center\",p:2},children:[/*#__PURE__*/_jsx(ExtensionIcon,{sx:{fontSize:40,color:\"#388e3c\",mr:2}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Total Challenges\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:\"bold\",children:challengeCount})]})]})}),selectedUser&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{display:\"flex\",alignItems:\"center\",p:2},children:[/*#__PURE__*/_jsx(ExtensionIcon,{sx:{fontSize:40,color:\"#f57c00\",mr:2}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[selectedUser.username,\"'s Challenges\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:\"bold\",children:((_selectedUser$courses=selectedUser.courses)===null||_selectedUser$courses===void 0?void 0:_selectedUser$courses.length)||0})]})]})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(UserForm,{refresh:fetchUsers})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:8,children:[/*#__PURE__*/_jsx(UserList,{users:users,refresh:fetchUsers,onSelect:user=>setSelectedUser(user)}),selectedUser&&/*#__PURE__*/_jsx(SkillProgress,{user:selectedUser})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","Grid","Card","Box","Avatar","GroupIcon","ExtensionIcon","UserForm","UserList","SkillProgress","jsx","_jsx","jsxs","_jsxs","Dashboard","_selectedUser$courses","users","setUsers","selectedUser","setSelectedUser","challengeCount","setChallengeCount","fetchUsers","response","fetch","process","env","REACT_APP_API_BASE_URL","data","json","uniqueCourses","Set","flatMap","user","courses","size","error","console","children","sx","display","alignItems","my","src","alt","width","height","mr","variant","container","spacing","mb","item","xs","md","p","fontSize","color","fontWeight","length","username","refresh","onSelect"],"sources":["C:/Users/sadee/OneDrive/Desktop/Gamified Learning/gamified-learning-front-end/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Typography, Grid, Card, Box, Avatar } from \"@mui/material\";\r\nimport GroupIcon from \"@mui/icons-material/Group\";\r\nimport ExtensionIcon from \"@mui/icons-material/Extension\";\r\nimport UserForm from \"../components/UserForm\";\r\nimport UserList from \"../components/UserList\";\r\nimport SkillProgress from \"../components/SkillProgress\";\r\n\r\nconst Dashboard = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [challengeCount, setChallengeCount] = useState(0);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `${process.env.REACT_APP_API_BASE_URL}/api/users`\r\n      );\r\n      const data = await response.json();\r\n      setUsers(data);\r\n\r\n      const uniqueCourses = new Set(data.flatMap((user) => user.courses));\r\n      setChallengeCount(uniqueCourses.size);\r\n    } catch (error) {\r\n      console.error(\"Error fetching users:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {/* Header */}\r\n      <Box sx={{ display: \"flex\", alignItems: \"center\", my: 2 }}>\r\n        <Avatar\r\n          src=\"/logo192.png\"\r\n          alt=\"Logo\"\r\n          sx={{ width: 56, height: 56, mr: 2 }}\r\n        />\r\n        <Typography variant=\"h4\">Community Skill Dashboard</Typography>\r\n      </Box>\r\n\r\n      {/* Summary Cards */}\r\n      <Grid container spacing={3} sx={{ mb: 2 }}>\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ display: \"flex\", alignItems: \"center\", p: 2 }}>\r\n            <GroupIcon sx={{ fontSize: 40, color: \"#1976d2\", mr: 2 }} />\r\n            <Box>\r\n              <Typography variant=\"h6\">Total Students</Typography>\r\n              <Typography variant=\"h5\" fontWeight=\"bold\">\r\n                {users.length}\r\n              </Typography>\r\n            </Box>\r\n          </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ display: \"flex\", alignItems: \"center\", p: 2 }}>\r\n            <ExtensionIcon sx={{ fontSize: 40, color: \"#388e3c\", mr: 2 }} />\r\n            <Box>\r\n              <Typography variant=\"h6\">Total Challenges</Typography>\r\n              <Typography variant=\"h5\" fontWeight=\"bold\">\r\n                {challengeCount}\r\n              </Typography>\r\n            </Box>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {selectedUser && (\r\n          <Grid item xs={12} md={4}>\r\n            <Card sx={{ display: \"flex\", alignItems: \"center\", p: 2 }}>\r\n              <ExtensionIcon sx={{ fontSize: 40, color: \"#f57c00\", mr: 2 }} />\r\n              <Box>\r\n                <Typography variant=\"h6\">\r\n                  {selectedUser.username}'s Challenges\r\n                </Typography>\r\n                <Typography variant=\"h5\" fontWeight=\"bold\">\r\n                  {selectedUser.courses?.length || 0}\r\n                </Typography>\r\n              </Box>\r\n            </Card>\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n\r\n      {/* User Form and List */}\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={4}>\r\n          <UserForm refresh={fetchUsers} />\r\n        </Grid>\r\n        <Grid item xs={12} md={8}>\r\n          <UserList\r\n            users={users}\r\n            refresh={fetchUsers}\r\n            onSelect={(user) => setSelectedUser(user)}\r\n          />\r\n          {selectedUser && <SkillProgress user={selectedUser} />}\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}